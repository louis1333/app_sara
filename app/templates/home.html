<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Inicio ğŸ’™</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-[#fdf2f8] min-h-screen flex flex-col">

<header class="bg-white shadow p-4 text-center">
  <h1 class="text-xl font-semibold text-gray-700">
    ğŸ’• Hola mi koalita hermosa
  </h1>
  <p id="daily-message" class="text-sm text-gray-500 mt-1">
    Cargando mensaje...
  </p>
</header>

<main class="flex-1 p-4 pb-24">
  <section class="bg-white rounded-xl p-4 shadow">
    <h2 class="font-semibold mb-2">ğŸ˜Š Â¿CÃ³mo te sientes hoy?</h2>

    <select id="mood" class="w-full border rounded-lg p-2 mb-2">
      <option value="">Selecciona</option>
      <option value="feliz">Feliz ğŸ˜„</option>
      <option value="normal">Normal ğŸ™‚</option>
      <option value="cansada">Cansada ğŸ˜´</option>
      <option value="estresada">Estresada ğŸ˜–</option>
    </select>

    <textarea id="status-note"
      placeholder="Escribe algo si quieres..."
      class="w-full border rounded-lg p-2 mb-3"></textarea>

    <button onclick="saveStatus()"
      class="w-full bg-pink-400 text-white py-2 rounded-xl font-semibold">
      Guardar ğŸ’–
    </button>
  </section>
</main>

<nav class="fixed bottom-0 inset-x-0 bg-white border-t shadow flex justify-around py-2 text-xs">
  <a href="/app" class="flex flex-col items-center text-pink-400">ğŸ  Inicio</a>
  <a href="/app/events" class="flex flex-col items-center">ğŸ“… Eventos</a>
  <a href="/app/workouts" class="flex flex-col items-center">ğŸ‹ï¸ Gym</a>
  <a href="/app/notes" class="flex flex-col items-center">ğŸ“ Notas</a>
</nav>

<script>
async function loadMessage() {
  const r = await fetch('/message')
  const d = await r.json()
  document.getElementById('daily-message').innerText = d.message || 'ğŸ’–'
}

async function saveStatus() {
  await fetch('/status', {
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body: JSON.stringify({
      date: new Date().toISOString().split('T')[0],
      mood: mood.value,
      note: document.getElementById('status-note').value
    })
  })
  alert('Estado guardado ğŸ’•')
}

loadMessage()
</script>

</body>
</html>
