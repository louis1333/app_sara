<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gym ğŸ‹ï¸</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-[#fdf2f8] min-h-screen flex flex-col">

<header class="bg-white shadow p-4 text-center font-semibold">
  ğŸ‹ï¸ Rutinas
</header>

<main class="flex-1 p-4 pb-24">
  <input id="date" type="date"
    class="w-full border rounded-lg p-2 mb-2">
  <input id="routine" placeholder="Rutina"
    class="w-full border rounded-lg p-2 mb-2">

  <button onclick="addWorkout()"
    class="w-full bg-pink-400 text-white py-2 rounded-xl mb-4">
    Guardar rutina
  </button>

  <ul id="list" class="space-y-2 text-sm"></ul>
</main>

<nav class="fixed bottom-0 inset-x-0 bg-white border-t flex justify-around py-2 text-xs">
  <a href="/app">ğŸ  Inicio</a>
  <a href="/app/events">ğŸ“… Eventos</a>
  <a href="/app/workouts" class="text-pink-400">ğŸ‹ï¸ Gym</a>
  <a href="/app/notes">ğŸ“ Notas</a>
</nav>

<script>
async function addWorkout() {
  await fetch('/workouts', {
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body: JSON.stringify({
      date: date.value,
      routine: routine.value
    })
  })
  load()
}

async function load() {
  const r = await fetch('/workouts')
  const d = await r.json()
  list.innerHTML = ''
  d.forEach(w => {
    list.innerHTML += `<li>ğŸ‹ï¸ ${w.date} â€” ${w.routine}</li>`
  })
}

load()
</script>

</body>
</html>
