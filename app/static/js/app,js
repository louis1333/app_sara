const API = '';

function showSection(id) {
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
}

async function saveNote() {
    const content = document.getElementById('noteContent').value;

    if (!content) return;

    await fetch(`${API}/notes`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ content })
    });

    document.getElementById('noteContent').value = '';
    loadNotes();
}

async function loadNotes() {
    const res = await fetch(`${API}/notes`);
    const notes = await res.json();

    const list = document.getElementById('notesList');
    list.innerHTML = '';

    notes.forEach(n => {
        const li = document.createElement('li');
        li.textContent = n.content;
        list.appendChild(li);
    });
}

loadNotes();

async function loadDailyMessage() {
    try {
        const res = await fetch(`${API}/message`);
        const data = await res.json();

        const el = document.getElementById('daily-message');
        if (el) {
            el.innerText = data.message || 'ğŸ’–';
        }
    } catch (err) {
        console.error('Error cargando mensaje diario', err);
    }
}

document.addEventListener('DOMContentLoaded', () => {
    loadDailyMessage();
});
