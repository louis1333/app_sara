<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Notas ğŸ“</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-[#fdf2f8] min-h-screen flex flex-col">

<header class="bg-white shadow p-4 text-center font-semibold">
  ğŸ“ Notas
</header>

<main class="flex-1 p-4 pb-24">
  <textarea id="content"
    placeholder="Escribe una nota..."
    class="w-full border rounded-lg p-2 mb-2"></textarea>

  <button onclick="addNote()"
    class="w-full bg-pink-400 text-white py-2 rounded-xl mb-4">
    Guardar nota
  </button>

  <ul id="list" class="space-y-2 text-sm"></ul>
</main>

<nav class="fixed bottom-0 inset-x-0 bg-white border-t flex justify-around py-2 text-xs">
  <a href="/app">ğŸ  Inicio</a>
  <a href="/app/events">ğŸ“… Eventos</a>
  <a href="/app/workouts">ğŸ‹ï¸ Gym</a>
  <a href="/app/notes" class="text-pink-400">ğŸ“ Notas</a>
</nav>

<script>
async function addNote() {
  await fetch('/notes', {
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body: JSON.stringify({ content: content.value })
  })
  load()
}

async function load() {
  const r = await fetch('/notes')
  const d = await r.json()
  list.innerHTML = ''
  d.forEach(n => {
    list.innerHTML += `<li>ğŸ“ ${n.content}</li>`
  })
}

load()
</script>

</body>
</html>
